{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst URL = 'https://api.spacexdata.com/v4/rockets';\nexport const getRockets = createAsyncThunk('rockets/getRockets', async () => {\n  const response = await axios.get(URL);\n  const data = response.data.map(rocket => ({\n    ...rocket,\n    reserved: false\n  }));\n  return data;\n});\nconst rocketsSlice = createSlice({\n  name: 'rockets',\n  initialState: {\n    rockets: {},\n    isLoading: false,\n    error: null\n  },\n  reducers: {\n    bookRocket: (state, action) => ({\n      ...state,\n      rockets: state.rockets.map(rocket => {\n        if (rocket.id !== action.payload) {\n          return rocket;\n        }\n        return {\n          ...rocket,\n          reserved: true\n        };\n      })\n    }),\n    cancelBooking: (state, action) => ({\n      ...state,\n      rockets: state.rockets.map(rocket => {\n        if (rocket.id !== action.payload) {\n          return rocket;\n        }\n        return {\n          ...rocket,\n          reserved: false\n        };\n      })\n    }),\n    reservedRocket: state => ({\n      ...state,\n      rockets: state.rockets.filter(rocket => rocket.reserved)\n    })\n  },\n  extraReducers: {\n    [getRockets.pending]: state => {\n      state.isLoading = true;\n    },\n    [getRockets.fulfilled]: (state, action) => {\n      state.isLoading = false;\n      state.rockets = action.payload;\n    },\n    [getRockets.rejected]: state => {\n      state.isLoading = false;\n      state.error = true;\n    }\n  }\n});\nexport const {\n  bookRocket,\n  cancelBooking,\n  reservedRocket\n} = rocketsSlice.actions;\nexport default rocketsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","URL","getRockets","response","get","data","map","rocket","reserved","rocketsSlice","name","initialState","rockets","isLoading","error","reducers","bookRocket","state","action","id","payload","cancelBooking","reservedRocket","filter","extraReducers","pending","fulfilled","rejected","actions","reducer"],"sources":["/home/joy/Desktop/microverse/capstone/Rest-Countries/src/redux/rockets/rocketsSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst URL = 'https://api.spacexdata.com/v4/rockets';\n\nexport const getRockets = createAsyncThunk(\n  'rockets/getRockets',\n  async () => {\n    const response = await axios.get(URL);\n    const data = response.data.map((rocket) => ({\n      ...rocket,\n      reserved: false,\n    }));\n    return data;\n  },\n);\n\nconst rocketsSlice = createSlice({\n  name: 'rockets',\n  initialState: {\n    rockets: {},\n    isLoading: false,\n    error: null,\n  },\n  reducers: {\n    bookRocket: (state, action) => ({\n      ...state,\n      rockets: state.rockets.map((rocket) => {\n        if (rocket.id !== action.payload) {\n          return rocket;\n        }\n        return { ...rocket, reserved: true };\n      }),\n    }),\n    cancelBooking: (state, action) => ({\n      ...state,\n      rockets: state.rockets.map((rocket) => {\n        if (rocket.id !== action.payload) {\n          return rocket;\n        }\n        return { ...rocket, reserved: false };\n      }),\n    }),\n    reservedRocket: (state) => ({\n      ...state,\n      rockets: state.rockets.filter((rocket) => rocket.reserved),\n    }),\n  },\n  extraReducers: {\n    [getRockets.pending]: (state) => {\n      state.isLoading = true;\n    },\n\n    [getRockets.fulfilled]: (state, action) => {\n      state.isLoading = false;\n      state.rockets = action.payload;\n    },\n\n    [getRockets.rejected]: (state) => {\n      state.isLoading = false;\n      state.error = true;\n    },\n  },\n});\n\nexport const { bookRocket, cancelBooking, reservedRocket } = rocketsSlice.actions;\nexport default rocketsSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAG,uCAAuC;AAEnD,OAAO,MAAMC,UAAU,GAAGH,gBAAgB,CACxC,oBAAoB,EACpB,YAAY;EACV,MAAMI,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAACH,GAAG,CAAC;EACrC,MAAMI,IAAI,GAAGF,QAAQ,CAACE,IAAI,CAACC,GAAG,CAAEC,MAAM,KAAM;IAC1C,GAAGA,MAAM;IACTC,QAAQ,EAAE;EACZ,CAAC,CAAC,CAAC;EACH,OAAOH,IAAI;AACb,CACF,CAAC;AAED,MAAMI,YAAY,GAAGX,WAAW,CAAC;EAC/BY,IAAI,EAAE,SAAS;EACfC,YAAY,EAAE;IACZC,OAAO,EAAE,CAAC,CAAC;IACXC,SAAS,EAAE,KAAK;IAChBC,KAAK,EAAE;EACT,CAAC;EACDC,QAAQ,EAAE;IACRC,UAAU,EAAEA,CAACC,KAAK,EAAEC,MAAM,MAAM;MAC9B,GAAGD,KAAK;MACRL,OAAO,EAAEK,KAAK,CAACL,OAAO,CAACN,GAAG,CAAEC,MAAM,IAAK;QACrC,IAAIA,MAAM,CAACY,EAAE,KAAKD,MAAM,CAACE,OAAO,EAAE;UAChC,OAAOb,MAAM;QACf;QACA,OAAO;UAAE,GAAGA,MAAM;UAAEC,QAAQ,EAAE;QAAK,CAAC;MACtC,CAAC;IACH,CAAC,CAAC;IACFa,aAAa,EAAEA,CAACJ,KAAK,EAAEC,MAAM,MAAM;MACjC,GAAGD,KAAK;MACRL,OAAO,EAAEK,KAAK,CAACL,OAAO,CAACN,GAAG,CAAEC,MAAM,IAAK;QACrC,IAAIA,MAAM,CAACY,EAAE,KAAKD,MAAM,CAACE,OAAO,EAAE;UAChC,OAAOb,MAAM;QACf;QACA,OAAO;UAAE,GAAGA,MAAM;UAAEC,QAAQ,EAAE;QAAM,CAAC;MACvC,CAAC;IACH,CAAC,CAAC;IACFc,cAAc,EAAGL,KAAK,KAAM;MAC1B,GAAGA,KAAK;MACRL,OAAO,EAAEK,KAAK,CAACL,OAAO,CAACW,MAAM,CAAEhB,MAAM,IAAKA,MAAM,CAACC,QAAQ;IAC3D,CAAC;EACH,CAAC;EACDgB,aAAa,EAAE;IACb,CAACtB,UAAU,CAACuB,OAAO,GAAIR,KAAK,IAAK;MAC/BA,KAAK,CAACJ,SAAS,GAAG,IAAI;IACxB,CAAC;IAED,CAACX,UAAU,CAACwB,SAAS,GAAG,CAACT,KAAK,EAAEC,MAAM,KAAK;MACzCD,KAAK,CAACJ,SAAS,GAAG,KAAK;MACvBI,KAAK,CAACL,OAAO,GAAGM,MAAM,CAACE,OAAO;IAChC,CAAC;IAED,CAAClB,UAAU,CAACyB,QAAQ,GAAIV,KAAK,IAAK;MAChCA,KAAK,CAACJ,SAAS,GAAG,KAAK;MACvBI,KAAK,CAACH,KAAK,GAAG,IAAI;IACpB;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEE,UAAU;EAAEK,aAAa;EAAEC;AAAe,CAAC,GAAGb,YAAY,CAACmB,OAAO;AACjF,eAAenB,YAAY,CAACoB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}